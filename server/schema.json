{
  "title": "ResumeExtraction",
  "type": "object",
  "properties": {
    "name": { "type": "string" },
    "nameOnResume": { 
      "type": "string",
      "description": "The exact name string found on the resume (e.g., 'J. W. Smith' or 'John Smith')."
    },
    "nameVerificationAlert": {
      "type": "boolean",
      "description": "True if the name extracted (nameOnResume) does NOT align with the user's profile name."
    },
    "contact": {
      "type": "object",
      "properties": {
        "email": { "type": "string" },
        "phone": { "type": "string" },
        "links": { "type": "array", "items": { "type": "string" } }
      }
    },
    "education": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "degree": { "type": "string" },
          "institute": { "type": "string" },
          "year": { "type": "string" }
        }
      }
    },
    "experience": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "title": { "type": "string" },
          "company": { "type": "string" },
          "start": { "type": "string" },
          "end": { "type": ["string", "null"] },
          "bullets": { "type": "array", "items": { "type": "string" } }
        }
      }
    },
    "strongMatches": {
      "type": "array",
      "description": "A list of the strongest matches. ONLY include skills/experiences from the RESUME that are DIRECTLY required by the JOB. Evaluate each match based on evidence.",
      "items": {
        "type": "object",
        "properties": {
          "match": {
            "type": "string",
            "description": "The matching keyword (e.g., 'React', 'Python', 'Risk Management')."
          },
          "evidence": {
            "type": "string",
            "description": "The *exact quote* from the resume that proves this match (e.g., 'Managed a team of 5 engineers' or 'Developed a new CI/CD pipeline')."
          },
          "quality": {
            "type": "string",
            "enum": ["Strong", "Good", "Weak"],
            "description": "The quality of the match based on recency and context."
          },
          "reason": {
            "type": "string",
            "description": "A 1-2 sentence recruiter-style analysis explaining *why* this is a match and *how strong* it is, citing recency or quantifiable impact (e.g., 'Job requires React; resume shows 3 recent projects using it. This is a Strong match.')."
          }
        },
        "required": ["match", "evidence", "quality", "reason"]
      }
    },
    "skills": {
      "type": "array",
      "items": { "type": "string" },
      "description": "A general list of all key skills extracted from the resume."
    },
    "improvementAreas": {
      "type": "array",
      "description": "An array of 3-5 specific, actionable suggestions for the candidate to improve their resume, based on gaps found when comparing it to the job description.",
      "items": {
        "type": "object",
        "properties": {
          "area": {
            "type": "string",
            "description": "A short title for the area of improvement (e.g., 'Missing Quantifiable Metrics', 'Lacks Cloud Experience')."
          },
          "suggestion": {
            "type": "string",
            "description": "A 1-2 sentence constructive suggestion for the candidate. Explain the gap and what to add. Example: 'The resume mentions managing projects, but lacks specific metrics. Add quantifiable achievements (e.g., 'completed 5 projects on time') to show impact.'"
          },
          "importance": {
            "type": "string",
            "description": "The priority of this suggestion.",
            "enum": ["High", "Medium", "Low"]
          }
        },
        "required": ["area", "suggestion", "importance"]
      }
    },
    "actionableSuggestions": {
      "type": "array",
      "description": "An array of 3 objects, one for each priority level (High, Medium, Low), containing actionable next steps for the candidate, ensuring all three priority levels are present.",
      "items": {
        "type": "object",
        "properties": {
          "priority": {
            "type": "string",
            "enum": ["High", "Medium", "Low"],
            "description": "The priority level for this group of suggestions. Use 'High' for Crucial, 'Medium' for Important, 'Low' for Minor."
          },
          "heading": {
            "type": "string",
            "description": "A descriptive heading for the priority level (e.g., 'Crucial structural and content improvements')."
          },
          "items": {
            "type": "array",
            "description": "A list of actionable advice points. Do not enforce a specific count.",
            "items": { "type": "string" }
          }
        },
        "required": ["priority", "heading", "items"]
      }
    }
  },
  "additionalProperties": true,
  "required": [
    "skills",
    "strongMatches",
    "improvementAreas",
    "actionableSuggestions"
  ]
}